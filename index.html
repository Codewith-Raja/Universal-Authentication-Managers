<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal Authentication Manager</title>
    <link rel="stylesheet" href="assets/style.css">
    <link rel="icon" type="image/png" href="assets/favicon_io/favicon-32x32.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</head>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script>
   (function(){
      emailjs.init("2d2naJdIc02vIDUrD"); // My EmailJS public key
   })();
</script>

<body>
    <nav class="responsive-nav">
        <div class="nav-brand">
          <img src="assets/favicon_io/android-chrome-192x192.png" alt="Logo" class="logo-img">
          <div class="logo">Universal Authentication Manager</div>
        </div>
        
        <!--Hamburger Icon for Mobile -->
        <button class="menu-toggle" id="menuToggle" title="Toggle Navigation Menu">
          <i class="fas fa-bars"></i>
        </button>

        <!-- Right Section -->
        <div class="nav-actions" id="navActions">
          <ul class="nav-menu" id="navMenu">
            <li><a href="index.html" class="active" data-page="home">Home</a></li>
            <li><a href="about.html" data-page="about">About</a></li>
            <li><a href="support.html" data-page="support">Support</a></li>
            <li id="navLogin"><a href="login.html" data-page="login">Login</a></li>
            <li id="navLogout" class="hidden"><a href="account.html" data-page="account">Account</a></li>
          </ul>
          <button id="themeToggle" title="Toggle Theme">
            <i class="fas fa-moon"></i>
          </button>
        </div>
    </nav>

    <div id="notification-banner" class="hidden">
        <p id="notification-message"></p>
        <button id="closeBannerBtn">√ó</button>
    </div>
    
    <div class="container">
        <header class="page-header">
            <h1>Authentication Manager <span class="accent-text">üîê</span></h1>
            <p class="header-subtitle">Your secure vault for all your credentials</p>
        </header>

        <section class="search-section">
            <h2>Find Your Credentials</h2>
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Search by website or username" onkeyup="searchCredentials()">
            </div>
        </section>
        
        <section class="credentials-section">
            <div class="section-header">
                <h2>Your Saved Credentials</h2>
                <div class="credentials-counter" id="credentialsCounter">0 items</div>
                <button id="toggleAddCredentialBtn" class="primary-button add-credential-btn">
                  <i class="fas fa-plus"></i> Add New Credential
                </button>
            </div>
            <div id="passwordContainer" class="password-container"></div>
        </section>
        
        <section class="add-credential-section hidden" id="addCredentialSection">
            <h2>Add New Credentials</h2>
            <form id="addPasswordForm" class="credential-form">
              <div class="form-group">
                <label for="website">Website:</label>
                <input type="text" id="website" name="website" required placeholder="Enter website name">
              </div>
              <div class="form-group">
                <label for="username">Username:</label>
                <input type="text" id="username" name="username" required placeholder="Enter username or email">
              </div>
              <div class="form-group">
                <label for="password">Password:</label>
                <div class="password-field">
                  <input type="password" id="password" name="password" required placeholder="Enter password">
                  <span class="password-view-eye" id="passwordViewEye">
                    <i class="fas fa-eye" id="passwordEyeIcon"></i>
                  </span>
                </div>
                <div id="password-strength">
                  <span id="strength-text">Strength: </span>
                  <div id="strength-bar"></div>
                  <ul id="strength-feedback"></ul>
                </div>
              </div>
              <div class="form-actions">
                <button type="button" id="generatePassword" class="secondary-button">
                  <i class="fas fa-key"></i> Generate Strong Password
                </button>
                <button type="submit" class="primary-button">
                  <i class="fas fa-save"></i> Save Credential
                </button>
              </div>
            </form>
        </section>
    </div>
    
    <!-- Share Modal -->
    <div id="shareModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Share Password</h2>
            <p>Enter the recipient's email address to securely share this credential:</p>
            <input type="email" id="recipientEmail" placeholder="Recipient's Email">
            <div class="modal-actions">
                <button id="modalShareButton" type="button" class="primary-button">
                    <i class="fas fa-paper-plane"></i> Send
                </button>
            </div>
        </div>
    </div>
    
    <!-- Master Key Modal -->
    <div id="masterKeyModal" class="modal">
        <div class="modal-content">
            <h2>Enter Master Key</h2>
            <p id="masterKeyPurpose">Please enter your master key to access your credentials</p>
            <input type="password" id="masterKeyInput" placeholder="Enter your master key">
            <div class="modal-buttons">
                <button id="confirmMasterKey">Confirm</button>
                <button id="cancelMasterKey">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Confirmation Dialog Modal -->
    <div id="confirmationModal" class="modal">
        <div class="modal-content">
            <h2 id="confirmTitle">Confirm Action</h2>
            <p id="confirmMessage">Are you sure you want to proceed?</p>
            <div class="modal-buttons">
                <button id="confirmYes" class="primary-button">Yes</button>
                <button id="confirmNo">Cancel</button>
            </div>
        </div>
    </div>

    <script src="scripts/script.js"></script>
</body>
</html>
